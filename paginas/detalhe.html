<!doctype html>
<html lang="pt-br" class="light">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ficha do Aluno — SAE</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800;900&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght@100..700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="../css/base.css" />
  <link rel="stylesheet" href="../css/detalhe.css" />
</head>
<body>
  <header class="topbar-det">
    <div class="topbar-det__esquerda">
      <a href="javascript:history.back()" class="link-voltar"><span class="material-symbols-outlined">arrow_back</span> Voltar</a>
      <div class="marca">
        <img src="../img/KBT_logo2.png" alt="Logo" class="logo-icon">
        <h2 class="marca__titulo">Ficha do Aluno</h2>
      </div>
    </div>
    <div class="topbar-det__direita">
      <span id="badgeStatus" class="status-pill">Pendente</span>
    </div>
  </header>

  <main class="pagina-det">
    <div class="pagina-det__conteudo">
      
      <!-- PAINEL ADMIN: MATRÍCULA -->
      <section id="secaoAdminVenda" class="card card--venda-admin">
        <div class="admin-venda-wrapper">
          <p>Aluno realizou a matrícula (Venda)?</p>
          <input type="checkbox" id="checkMatriculado">
        </div>
      </section>

      <section class="hero">
        <div class="hero__info">
          <h1 id="detAluno" class="hero__nome">Carregando...</h1>
          <div class="hero__grid">
            <div class="mini-card"><p class="mini-card__label">Data</p><p id="detData">—</p></div>
            <div class="mini-card"><p class="mini-card__label">Tipo</p><p id="detTipo">—</p></div>
            <div class="mini-card"><p class="mini-card__label">WhatsApp</p><p id="detWhatsapp">—</p></div>
            <div class="mini-card"><p class="mini-card__label">Status</p><p id="detStatus">—</p></div>
          </div>

          <div class="acoes">
            <a id="btnWhatsapp" class="btn btn--primario" target="_blank"><span class="material-symbols-outlined">chat</span> WhatsApp</a>
            
            <!-- PAINEL ADMIN: PRESENÇA -->
            <div id="containerAdminAcoes" class="admin-presenca-area">
              <div class="admin-botoes-row">
                <button id="btnConfirmar" class="btn btn--ok">Confirmar Presença</button>
                <button id="btnFaltou" class="btn btn--erro">Marcar Falta</button>
              </div>
              <label class="check-recepcao">
                <input type="checkbox" id="checkRecepcao"> Coach levou o aluno à recepção?
              </label>
            </div>
          </div>
        </div>
      </section>

      <!-- SEÇÃO DE FEEDBACK -->
      <section class="card card-feedback">
        <h3 class="card-feedback-titulo">
          <span class="material-symbols-outlined">rate_review</span> Relatório da Aula
        </h3>
        
        <!-- O PROFESSOR ESCREVE AQUI -->
        <div id="containerFeedbackCoach">
          <textarea id="txtFeedbackCoach" placeholder="Descreva como foi a aula..."></textarea>
          <button id="btnSalvarFeedback" class="btn btn--primario btn-full">Salvar Relatório de Aula</button>
        </div>

        <!-- O ADMIN LÊ AQUI -->
        <div id="containerFeedbackAdmin">
          <div class="feedback-admin-box">
            <p id="pFeedbackTexto">Aguardando feedback do coach...</p>
          </div>
        </div>
      </section>

      <section class="card">
        <h3 class="card-feedback-titulo">Dados do Agendamento</h3>
        <div id="detFormRaw" class="lista-detalhes"></div>
      </section>
    </div>
  </main>

  <script type="module" src="../js/guardas.js"></script>
  <script type="module" src="../js/professor.detalhe.js"></script>
</body>
</html>